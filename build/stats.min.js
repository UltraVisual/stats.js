// stats.js - http://github.com/mrdoob/stats.js
var GS=GS||{};GS.deviceData=GS.deviceData||{};GS.deviceData.performanceIndex=GS.deviceData.performanceIndex||0;GS.deviceData.marketingName=GS.deviceData.marketingName||"";GS.deviceData.vendor=GS.deviceData.vendor||"";document.addEventListener("onPerformanceIndexAvailable",function(e){GS.deviceData.performanceIndex=e.data});
var Stats=function(){var e=Date.now(),i=e,j=0,o=Infinity,p=0,g=0,k=Infinity,l=0,m=0,n=0,c=document.createElement("div");c.id="stats";c.addEventListener("mousedown",function(b){b.preventDefault();q(++n%2)},!1);c.style.cssText="width:80px;opacity:0.9;cursor:pointer";var a=document.createElement("div");a.id="fps";a.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#002";c.appendChild(a);var h=document.createElement("div");h.id="fpsText";h.style.cssText="color:#0ff;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px";
h.innerHTML="FPS";a.appendChild(h);var d=document.createElement("div");d.id="fpsGraph";d.style.cssText="position:relative;width:74px;height:30px;background-color:#0ff";for(a.appendChild(d);74>d.children.length;){var r=document.createElement("span");r.style.cssText="width:1px;height:30px;float:left;background-color:#113";d.appendChild(r)}var f=document.createElement("div");f.id="ms";f.style.cssText="padding:0 0 3px 3px;text-align:left;background-color:#020;display:none";c.appendChild(f);var b=document.createElement("div");
b.id="msText";b.style.cssText="color:#0f0;font-family:Helvetica,Arial,sans-serif;font-size:9px;font-weight:bold;line-height:15px";b.innerHTML="MS";f.appendChild(b);var q=function(b){n=b;switch(n){case 0:a.style.display="block";f.style.display="none";break;case 1:a.style.display="none",f.style.display="block"}};return{REVISION:12,domElement:c,setMode:q,begin:function(){e=Date.now()},end:function(){var a=Date.now();j=a-e;o=Math.min(o,j);p=Math.max(p,j);b.textContent="Perf Index: "+GS.deviceData.performanceIndex;
b.textContent+="\nDevice: "+GS.deviceData.vendor+" "+GS.deviceData.marketingName;b.textContent+="\nScreen: "+window.innerWidth+" x "+window.innerHeight;m++;if(a>i+1E3){g=Math.round(1E3*m/(a-i));k=Math.min(k,g);l=Math.max(l,g);h.textContent=g+" FPS ("+k+"-"+l+")";var c=Math.min(30,30-30*(g/100));d.appendChild(d.firstChild).style.height=c+"px";i=a;m=0}return a},update:function(){e=this.end()}}};"object"===typeof module&&(module.exports=Stats);
